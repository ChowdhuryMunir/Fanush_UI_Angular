<div class="container">
  <h2>Employee Data Import/Export Management</h2>

  <!-- Success or error message -->
  <div *ngIf="message" class="alert alert-success" role="alert">
    {{ message }}
  </div>

  <!-- Data Import/Export Form -->
  <form [formGroup]="dataImportExportForm" (ngSubmit)="onFormSubmit()">
    <div class="form-group">
      <label for="type">Type</label>
      <input type="text" id="type" class="form-control" formControlName="type" />
      <div *ngIf="dataImportExportForm.get('type').invalid && dataImportExportForm.get('type').touched" class="text-danger">
        Type is required.
      </div>
    </div>

    <div class="form-group">
      <label for="fileName">File Name</label>
      <input type="text" id="fileName" class="form-control" formControlName="fileName" />
      <div *ngIf="dataImportExportForm.get('fileName').invalid && dataImportExportForm.get('fileName').touched" class="text-danger">
        File Name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="filePath">File Path</label>
      <input type="text" id="filePath" class="form-control" formControlName="filePath" />
      <div *ngIf="dataImportExportForm.get('filePath').invalid && dataImportExportForm.get('filePath').touched" class="text-danger">
        File Path is required.
      </div>
    </div>

    <div class="form-group">
      <label for="importExportDate">Import/Export Date</label>
      <input type="date" id="importExportDate" class="form-control" formControlName="importExportDate" />
      <div *ngIf="dataImportExportForm.get('importExportDate').invalid && dataImportExportForm.get('importExportDate').touched" class="text-danger">
        Import/Export Date is required.
      </div>
    </div>

    <div class="form-group form-check">
      <input type="checkbox" id="isActive" class="form-check-input" formControlName="isActive" />
      <label for="isActive" class="form-check-label">Is Active</label>
    </div>

    <button type="submit" class="btn btn-primary">
      {{ importExportIdUpdate == null ? 'Save' : 'Update' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="resetForm()">Reset</button>
  </form>

  <!-- Data Import/Export List -->
  <h3 class="mt-4">Data Import/Export List</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Type</th>
        <th>File Name</th>
        <th>File Path</th>
        <th>Import/Export Date</th>
        <th>Is Active</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dataImportExport of allEmployeeDataImportExports | async">
        <td>{{ dataImportExport.type }}</td>
        <td>{{ dataImportExport.fileName }}</td>
        <td>{{ dataImportExport.filePath }}</td>
        <td>{{ dataImportExport.importExportDate | date }}</td>
        <td>{{ dataImportExport.isActive ? 'Yes' : 'No' }}</td>
        <td>
          <button class="btn btn-sm btn-primary" (click)="loadDataImportExportToEdit(dataImportExport.importExportId)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="deleteDataImportExport(dataImportExport.importExportId)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

